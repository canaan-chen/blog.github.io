<!DOCTYPE html>
<html lang="en-us">
<head>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    
    
        <meta name="twitter:card" content="summary"/>
    



<meta name="twitter:title" content="hexo Next 主题修改tips"/>
<meta name="twitter:description" content=""/>
<meta name="twitter:site" content="@"/>



  	<meta property="og:title" content="hexo Next 主题修改tips &middot; My New Hugo Site" />
  	<meta property="og:site_name" content="My New Hugo Site" />
  	<meta property="og:url" content="http://example.org/posts/hexo-next-%E4%B8%BB%E9%A2%98%E4%BF%AE%E6%94%B9tips/" />

    
        
    

    
    <meta property="og:description" content="" />
  	<meta property="og:type" content="article" />
    <meta property="article:published_time" content="2020-04-04T15:01:48Z" />

    
    <meta property="article:tag" content="hexo" />
    
    

    <title>hexo Next 主题修改tips &middot; My New Hugo Site</title>

    
    <meta name="description" content="&lt;h1 id=&#34;heading&#34;&gt;&lt;/h1&gt;
&lt;p&gt;本文讲述了四个next优化方案：文章置顶、添加博客背景、调整文章内容透明度、增加近期文章list。&lt;/p&gt;" />
    

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="/images/favicon.ico">
	  <link rel="apple-touch-icon" href="/images/apple-touch-icon.png" />

    <link rel="stylesheet" type="text/css" href="/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="/css/nav.css" />

    

    

    
      
          <link href="/index.xml" rel="alternate" type="application/rss+xml" title="My New Hugo Site" />
      
      
    
    <meta name="generator" content="Hugo 0.68.3" />

    <link rel="canonical" href="http://example.org/posts/hexo-next-%E4%B8%BB%E9%A2%98%E4%BF%AE%E6%94%B9tips/" />

    
      
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name":  null 
    },
    "author": {
        "@type": "Person",
        "name":  null ,
        
        "url":  null ,
        "sameAs": [
            
            
             
             
             
             
             
            
        ]
    },
    "headline": "hexo Next 主题修改tips",
    "name": "hexo Next 主题修改tips",
    "wordCount":  193 ,
    "timeRequired": "PT1M",
    "inLanguage": {
      "@type": "Language",
      "alternateName": "en"
    },
    "url": "http://example.org/posts/hexo-next-%E4%B8%BB%E9%A2%98%E4%BF%AE%E6%94%B9tips/",
    "datePublished": "2020-04-04T15:01Z",
    "dateModified": "2020-04-04T15:01Z",
    
    "keywords": "hexo",
    "description": "",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://example.org/posts/hexo-next-%E4%B8%BB%E9%A2%98%E4%BF%AE%E6%94%B9tips/"
    }
}
    </script>
    


    

    

    
</head>
<body class="nav-closed">

  <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        
        
    </ul>

    
    <a class="subscribe-button icon-feed" href="/index.xml">Subscribe</a>
    
</div>
<span class="nav-cover"></span>


 <div class="site-wrapper">



<header class="main-header post-head no-cover">
  <nav class="main-nav clearfix">


  
  
      <a class="menu-button icon-feed" href="/index.xml" >&nbsp;&nbsp;Subscribe</a>
  
  </nav>
</header>



<main class="content" role="main">




  <article class="post posts">

    <header class="post-header">
        <h1 class="post-title">hexo Next 主题修改tips</h1>
        <small></small>

        <section class="post-meta">
        
         
          <span class="post-tag small"><a href="http://example.org//tags/hexo/">#hexo</a></span>
         
        </section>
    </header>

    <section class="post-content">
      <h1 id="heading"></h1>
<p>本文讲述了四个next优化方案：文章置顶、添加博客背景、调整文章内容透明度、增加近期文章list。</p>
<h2 id="1-如何让文章置顶">1. 如何让文章置顶</h2>
<h3 id="博文置顶">博文置顶</h3>
<p>在gitbash里输入以下代码加入置顶插件。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py"><span style="color:#960050;background-color:#1e0010">$</span> npm uninstall hexo<span style="color:#f92672">-</span>generator<span style="color:#f92672">-</span>index <span style="color:#f92672">--</span>save
<span style="color:#960050;background-color:#1e0010">$</span> npm install hexo<span style="color:#f92672">-</span>generator<span style="color:#f92672">-</span>index<span style="color:#f92672">-</span>pin<span style="color:#f92672">-</span>top <span style="color:#f92672">--</span>save
</code></pre></div><p>然后在文章的<code>Front-matter</code>中加上<code>top:true</code>即可实现置顶。</p>
<h3 id="置顶标志体现">置顶标志体现</h3>
<p>实现置顶后如果没有置顶标志就会表现得很奇怪，这时候我们需要添加相关的置顶标志来实现。</p>
<p>打开/blog/theme/next/layout/_macro 中的<code>post.swig</code> 文件，定位到 <code>&lt;div class=&quot;post-block&quot;&gt;</code>下，添加如下代码：</p>
<pre><code>{% if post.top %}
            &lt;i class=&quot;fa fa-thumb-tack&quot;&gt;&lt;/i&gt;
            &lt;font color=7D26CD&gt;置顶&lt;/font&gt;
            &lt;span class=&quot;post-meta-divider&quot;&gt;|&lt;/span&gt;
 {% endif %}
</code></pre><h2 id="2-增加博客背景图片">2. 增加博客背景图片</h2>
<ol>
<li>在<code>themes/next/source/css/_custom/custom.styl</code>中添加CSS样式</li>
</ol>
<p>文件位置：hexo/themes/next/source/css/_custom/custom.styl// 背景图片</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css"><span style="color:#f92672">body</span>::<span style="color:#a6e22e">before</span> {
    <span style="color:#66d9ef">background-image</span>: url(<span style="color:#e6db74">https://背景图.jpg</span>);
    <span style="color:#66d9ef">background-repeat</span>: <span style="color:#66d9ef">no-repeat</span>;
    <span style="color:#66d9ef">background-size</span>: <span style="color:#66d9ef">cover</span>;
    <span style="color:#66d9ef">background-position</span>: <span style="color:#ae81ff">50</span><span style="color:#66d9ef">%</span> <span style="color:#ae81ff">50</span><span style="color:#66d9ef">%</span>;
    <span style="color:#66d9ef">content</span>: <span style="color:#e6db74">&#34; &#34;</span>;
    <span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">fixed</span>;
    <span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>;
    <span style="color:#66d9ef">height</span>: <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>;
    <span style="color:#66d9ef">top</span>: <span style="color:#ae81ff">0</span>;
    <span style="color:#66d9ef">left</span>: <span style="color:#ae81ff">0</span>;
    <span style="color:#66d9ef">z-index</span>: <span style="color:#ae81ff">-2</span>;
}
</code></pre></div><p>2）jquery-backstretch插件</p>
<p>文件位置：hexo/themes/next/layout/_layout.swig</p>
<pre><code>&lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery-backstretch/2.0.4/jquery.backstretch.min.js&quot;&gt;&lt;/script&gt;
+  &lt;script&gt;
+  $(&quot;body&quot;).backstretch(&quot;https://背景图.jpg&quot;);
+  &lt;/script&gt;
&lt;/body&gt;
</code></pre><p>加入到文件最后面前面即可。</p>
<h2 id="3-博客内容透明度调整">3. 博客内容透明度调整</h2>
<p>NexT主题的博客文章均是不透明的，下面的方法可以使博客内容透明化：</p>
<p>在<code>blog/themes/next/source/css/_custom/custom.styl</code>中添加以下内容：</p>
<pre><code>// page-opacity

.content-wrap {
  opacity: 0.85;
}

.sidebar {
  opacity: 0.85;
}

.header-inner {
  background: rgba(255,255,255,0.85);
}

.popup {
  opacity: 0.9;
}
</code></pre><p>其中<code>content-wrap</code>是文章内容的透明度设置，<code>sidebar</code>是侧边框的透明度设置，<code>header-inner</code>是菜单栏的透明度设置，<code>popup</code>是搜索框（<code>local-search</code>）的透明度设置。</p>
<p>可以修改上面的数字来自定义透明度。</p>
<p>注意其中<code>header-inner</code>不能使用<code>opacity</code>进行配置。
因为<code>header-inner</code>包含<code>header.swig</code>中的所有内容。
若使用<code>opacity</code>进行配置，子结点会出很多问题</p>
<h2 id="4-增加近期文章list">4. 增加近期文章list</h2>
<pre><code>{% if theme.recent_posts %}
    &lt;div class=&quot;links-of-blogroll motion-element {{ &quot;links-of-blogroll-&quot; + theme.recent_posts_layout  }}&quot;&gt;
      &lt;div class=&quot;links-of-blogroll-title&quot;&gt;
        &lt;!-- modify icon to fire by szw --&gt;
        &lt;i class=&quot;fa fa-history fa-{{ theme.recent_posts_icon | lower }}&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;
        {{ theme.recent_posts_title }}
      &lt;/div&gt;
      &lt;ul class=&quot;links-of-blogroll-list&quot;&gt;
        {% set posts = site.posts.sort('-date') %}
        {% for post in posts.slice('0', '5') %}
          &lt;li&gt;
            &lt;a href=&quot;{{ url_for(post.path) }}&quot; title=&quot;{{ post.title }}&quot; target=&quot;_blank&quot;&gt;{{ post.title }}&lt;/a&gt;
          &lt;/li&gt;
        {% endfor %}
      &lt;/ul&gt;
    &lt;/div&gt;
{% endif %}
</code></pre><p>将此代码贴在<code>next/layout/_macro/sidebar.swig</code>中的<code>if theme.links</code>对应的<code>endif</code>后面，就ok了，是不是很简单。。。。
为了配置方便，在主题的<code>_config.yml</code>中添加了几个变量，如下：</p>
<pre><code>recent_posts_title: 近期文章
recent_posts_layout: block
recent_posts: true
</code></pre>
    </section>


  <footer class="post-footer">


    




    
<section class="share">
  <h4>Share this posts</h4>
  <a class="icon-twitter" style="font-size: 1.4em" href="https://twitter.com/share?text=hexo%20Next%20%e4%b8%bb%e9%a2%98%e4%bf%ae%e6%94%b9tips&nbsp;-&nbsp;My%20New%20Hugo%20Site&amp;url=http%3a%2f%2fexample.org%2fposts%2fhexo-next-%25E4%25B8%25BB%25E9%25A2%2598%25E4%25BF%25AE%25E6%2594%25B9tips%2f"
      onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
      <span class="hidden">Twitter</span>
  </a>
  <a class="icon-facebook" style="font-size: 1.4em" href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fexample.org%2fposts%2fhexo-next-%25E4%25B8%25BB%25E9%25A2%2598%25E4%25BF%25AE%25E6%2594%25B9tips%2f"
      onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
      <span class="hidden">Facebook</span>
  </a>
  <a class="icon-pinterest" style="font-size: 1.4em" href="http://pinterest.com/pin/create/button/?url=http%3a%2f%2fexample.org%2fposts%2fhexo-next-%25E4%25B8%25BB%25E9%25A2%2598%25E4%25BF%25AE%25E6%2594%25B9tips%2f&amp;description=hexo%20Next%20%e4%b8%bb%e9%a2%98%e4%bf%ae%e6%94%b9tips"
      onclick="window.open(this.href, 'pinterest-share','width=580,height=296');return false;">
      <span class="hidden">Pinterest</span>
  </a>
  <a class="icon-google-plus" style="font-size: 1.4em" href="https://plus.google.com/share?url=http%3a%2f%2fexample.org%2fposts%2fhexo-next-%25E4%25B8%25BB%25E9%25A2%2598%25E4%25BF%25AE%25E6%2594%25B9tips%2f"
     onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
      <span class="hidden">Google+</span>
  </a>
</section>



    







  </footer>
</article>

</main>


  <aside class="read-next">
  
      <a class="read-next-story" style="no-cover" href="/posts/%E5%A6%82%E4%BD%95%E5%9C%A8windows-%E4%BD%93%E9%AA%8C%E6%9E%81%E8%87%B4%E6%A8%A1%E4%BB%BFmac-os%E7%B3%BB%E7%BB%9F%E6%A1%8C%E9%9D%A2/">
          <section class="post">
              <h2>如何在windows 体验极致模仿Mac os系统桌面</h2>
              
          </section>
      </a>
  
  
      <a class="read-next-story prev" style="no-cover" href="/posts/hexo-%E5%8D%9A%E5%AE%A2%E6%8B%93%E5%B1%95/">
          <section class="post">
              <h2>hexo 博客拓展 | CODING平台托管以及个性化域名</h2>
          </section>
      </a>
  
</aside>



    <footer class="site-footer clearfix">
        <section class="copyright"><a href="">My New Hugo Site</a> </section>
        
        <section class="poweredby">Proudly generated by <a class="icon-hugo" href="http://gohugo.io">HUGO</a>, with <a class="icon-theme" href="https://github.com/vjeantet/hugo-theme-casper">Casper</a> theme</section>
        
    </footer>
    </div>
    <script type="text/javascript" src="/js/jquery.js"></script>
    <script type="text/javascript" src="/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="/js/index.js"></script>
    
</body>
</html>

